// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract Voting {
    mapping(string => uint256) private candidateVotes;
    string[] private candidateList; // 记录所有候选人

    function vote(string memory candidate) public {
        require(bytes(candidate).length > 0, "Candidate name cannot be empty");
        
        candidateVotes[candidate]++;
        
        // 如果是新候选人，加入列表
        if (candidateVotes[candidate] == 1) {
            candidateList.push(candidate);
        }
    }

    function getVotes(string memory candidate) public view returns (uint256) {
        return candidateVotes[candidate];
    }

    /**
     * @dev 重置所有候选人的得票数
     */
    function resetVotes() public {
        for (uint i = 0; i < candidateList.length; i++) {
            string memory candidate = candidateList[i];
            candidateVotes[candidate] = 0;
        }
        // 可选：清空列表
        delete candidateList;
    }
}